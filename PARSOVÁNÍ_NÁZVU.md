# ğŸ” ParsovÃ¡nÃ­ ÄŒÃ­sla StrÃ¡nky z NÃ¡zvu Souboru

## ğŸ“ VizuÃ¡lnÃ­ Diagram

### FormÃ¡t: `PRYYMMDDXXBBB.pdf`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PR25103001VY1.pdf                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚  â”‚    â”‚  â”‚  â”‚                â”‚ â”‚ â”‚
    â”‚  â”‚    â”‚  â”‚  â”‚                â”‚ â”‚ â””â”€â”€â”€ .pdf (pÅ™Ã­pona)
    â”‚  â”‚    â”‚  â”‚  â”‚                â”‚ â””â”€â”€â”€â”€â”€ B (3. znak verze)
    â”‚  â”‚    â”‚  â”‚  â”‚                â””â”€â”€â”€â”€â”€â”€â”€ B (2. znak verze)
    â”‚  â”‚    â”‚  â”‚  â”‚                        B (1. znak verze) = "VY1"
    â”‚  â”‚    â”‚  â”‚  â”‚
    â”‚  â”‚    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ X (ÄÃ­slo strÃ¡nky - 2. ÄÃ­slice) = "1"
    â”‚  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ X (ÄÃ­slo strÃ¡nky - 1. ÄÃ­slice) = "0"
    â”‚  â”‚    â”‚
    â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ DD (den) = "30"
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ MM (mÄ›sÃ­c) = "10"
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ YY (rok) = "25" + PR (prefix) = "PR"
```

---

## ğŸ“Š Extrakce v Pythonu

### Pozice znakÅ¯ (od konce)

```python
name = "PR25103001VY1"

Position:  P  R  2  5  1  0  3  0  0  1  V  Y  1
Index:     0  1  2  3  4  5  6  7  8  9 10 11 12
From end: -13-12-11-10 -9 -8 -7 -6 -5 -4 -3 -2 -1

ÄŒÃ­slo strÃ¡nky: name[-5:-3] = "01"
               â–²    â–²
               â”‚    â”‚
          Pozice -5  Pozice -3 (exclusive)
```

---

## ğŸ¯ PÅ™Ã­klady Extrakce

### PÅ™Ã­klad 1: Strana 01

```
Soubor: PR25103001VY1.pdf

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Prefix    â”‚  Datum   â”‚ Strana â”‚  Verze  â”‚
â”‚   + YY      â”‚  MMDD    â”‚   XX   â”‚   BBB   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PR + 25    â”‚   1030   â”‚   01   â”‚   VY1   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²â–²
                            â”‚â”‚
                     name[-5:-3] = "01"

VÃ½sledek: Strana 01 â†’ LichÃ¡ ğŸŸ¢
```

### PÅ™Ã­klad 2: Strana 02

```
Soubor: PR25103002VY1.pdf

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Prefix    â”‚  Datum   â”‚ Strana â”‚  Verze  â”‚
â”‚   + YY      â”‚  MMDD    â”‚   XX   â”‚   BBB   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PR + 25    â”‚   1030   â”‚   02   â”‚   VY1   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²â–²
                            â”‚â”‚
                     name[-5:-3] = "02"

VÃ½sledek: Strana 02 â†’ SudÃ¡ ğŸ”µ
```

### PÅ™Ã­klad 3: Strana 40

```
Soubor: PR25103040VY1.pdf

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Prefix    â”‚  Datum   â”‚ Strana â”‚  Verze  â”‚
â”‚   + YY      â”‚  MMDD    â”‚   XX   â”‚   BBB   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PR + 25    â”‚   1030   â”‚   40   â”‚   VY1   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–²â–²
                            â”‚â”‚
                     name[-5:-3] = "40"

VÃ½sledek: Strana 40 â†’ SudÃ¡ ğŸ”µ
```

---

## ğŸ’» Python Implementace

```python
from pathlib import Path

def parse_page_number(filename: str) -> int:
    """
    Extrahuje ÄÃ­slo strÃ¡nky z nÃ¡zvu souboru.
    
    FormÃ¡t: PRYYMMDDXXBBB.pdf
    - XX je na pozici [-5:-3] (4. a 5. znak od konce)
    """
    name = Path(filename).stem
    
    # Extrakce XX (4. a 5. znak od konce)
    if len(name) >= 5:
        page_chars = name[-5:-3]
        if page_chars.isdigit():
            return int(page_chars)
    
    return 0

# TestovÃ¡nÃ­
test_files = [
    "PR25103001VY1.pdf",  # Strana 01
    "PR25103002VY1.pdf",  # Strana 02
    "PR25103040VY1.pdf",  # Strana 40
]

for filename in test_files:
    page = parse_page_number(filename)
    parity = "lichÃ¡ ğŸŸ¢" if page % 2 == 1 else "sudÃ¡ ğŸ”µ"
    print(f"{filename:25s} -> Strana {page:2d} ({parity})")
```

**VÃ½stup:**
```
PR25103001VY1.pdf         -> Strana  1 (lichÃ¡ ğŸŸ¢)
PR25103002VY1.pdf         -> Strana  2 (sudÃ¡ ğŸ”µ)
PR25103040VY1.pdf         -> Strana 40 (sudÃ¡ ğŸ”µ)
```

---

## ğŸ”„ Proces v Aplikaci

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. UÅ¾ivatel nahraje: PR25103002VY1.pdf             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. parse_page_number("PR25103002VY1.pdf")          â”‚
â”‚     â†’ name = "PR25103002VY1"                        â”‚
â”‚     â†’ page_chars = name[-5:-3] = "02"               â”‚
â”‚     â†’ return int("02") = 2                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Klasifikace: 2 % 2 == 0 â†’ SudÃ¡ strÃ¡nka ğŸ”µ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. UI: ModrÃ½ badge "SudÃ¡"                          â”‚
â”‚     â†’ Zobrazit v seznamu levÃ½ch strÃ¡nek             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª TestovÃ¡nÃ­

Pro ovÄ›Å™enÃ­ sprÃ¡vnÃ© detekce spusÅ¥te:

```bash
python test_vzor_files.py
```

Tento skript:
1. âœ… Analyzuje vÅ¡echny PDF v `pdf-vzor/`
2. âœ… ZobrazÃ­ rozklad nÃ¡zvu souboru
3. âœ… OvÄ›Å™Ã­ sprÃ¡vnost detekce ÄÃ­sla strÃ¡nky
4. âœ… UkÃ¡Å¾e automatickÃ© pÃ¡rovÃ¡nÃ­
5. âœ… UrÄÃ­ sprÃ¡vnou rotaci

---

## ğŸ“ PoznÃ¡mky

### âœ… PodporovanÃ© FormÃ¡ty

1. **PRYYMMDDXXBBB.pdf** (primÃ¡rnÃ­)
   - `PR25103001VY1.pdf` â†’ Strana 01

2. **nÃ¡zev_XX.pdf** (fallback)
   - `PRAVO_NEW_TEST03_FINAL_02.pdf` â†’ Strana 02

3. **nÃ¡zvÄ›XX.pdf** (fallback)
   - `document15.pdf` â†’ Strana 15

### âš ï¸ OmezenÃ­

- ÄŒÃ­slo strÃ¡nky musÃ­ bÃ½t **2 znaky** (01-99)
- Pro strÃ¡nky > 99 je potÅ™eba upravit formÃ¡t
- PoslednÃ­ 3 znaky (BBB) nesmÃ­ bÃ½t ÄÃ­slice

---

## ğŸ¨ UI Vizualizace

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“„ PR25103001VY1.pdf              ğŸŸ¢ LichÃ¡            â”‚
â”‚     StrÃ¡nka: 01 | Velikost: 1.7 MB | NahrÃ¡no: 12:34   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“„ PR25103002VY1.pdf              ğŸ”µ SudÃ¡             â”‚
â”‚     StrÃ¡nka: 02 | Velikost: 1.0 MB | NahrÃ¡no: 12:34   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“„ PR25103003VY1.pdf              ğŸŸ¢ LichÃ¡            â”‚
â”‚     StrÃ¡nka: 03 | Velikost: 1.7 MB | NahrÃ¡no: 12:34   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Autor:** David Rynes  
**Verze:** 2.1  
**Datum:** Å˜Ã­jen 2025

